<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุฃูุงุฏูููุฉ ุงูุตุญุฉ - ุณุฌู ุงููุฏุฑุจ (ูุณุฎุฉ ุงูุญูุธ ุงูุชููุงุฆู)</title>
    <style>
        :root { 
            --bg-color: #1e2124; 
            --container-bg: #2f3136; 
            --text-color: #e1e1e1; 
            --primary-color: #588157; 
            --secondary-color: #4a6fa5; 
            --mech-bg: #3d2b2b; 
            --mech-border: #822727; 
            --mech-text: #ecf0f1; 
            --ans-bg: rgba(0,0,0,0.3);
            --ans-text: #cbd5e1;
            --dynamic-font: 16px; 
            --timer-color: #588157;
        }
        
        .light-mode { 
            --bg-color: #f0f2f5; 
            --container-bg: #ffffff; 
            --text-color: #1a1a1a; 
            --primary-color: #386641; 
            --secondary-color: #1d3557;
            --ans-bg: #f1f5f9; 
            --ans-text: #0f172a; 
            --mech-bg: #fff5f5;
            --mech-border: #feb2b2;
            --mech-text: #2c3e50;
        }
        
        body { 
            font-family: 'Segoe UI', Tahoma, sans-serif; 
            background-color: var(--bg-color); 
            color: var(--text-color); 
            padding: 20px; 
            direction: rtl; 
            margin: 0; 
            font-weight: 600;
        }

        .input-group { margin-bottom: 20px; max-width: 900px; margin-left: auto; margin-right: auto; }
        .input-group label { display: block; margin-bottom: 8px; font-weight: 900; color: var(--primary-color); }
        .input-field { 
            width: 100%; padding: 12px; border-radius: 10px; border: 2px solid var(--primary-color); 
            background: var(--container-bg); color: var(--text-color); font-size: 1rem; box-sizing: border-box;
        }

        select {
            padding: 5px 12px; font-size: 1rem; font-weight: 800; border-radius: 8px;
            background-color: var(--primary-color); color: white; border: 2px solid rgba(255,255,255,0.1);
            cursor: pointer; transition: all 0.2s ease-in-out; outline: none; margin-right: 8px;
        }

        .section-divider {
            display: flex; align-items: center; justify-content: center; margin: 50px 0 30px 0; position: relative;
        }
        .section-divider::before {
            content: ""; position: absolute; width: 100%; height: 2px; background: rgba(128,128,128,0.2); z-index: 1;
        }
        .section-divider span { 
            background: var(--primary-color); color: white; padding: 10px 30px; border-radius: 50px; 
            font-size: 1.1rem; position: relative; z-index: 2; box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }

        .top-nav { display: flex; justify-content: space-between; align-items: center; max-width: 900px; margin: 0 auto 20px auto; }
        .tabs-wrapper { background: #36393f; padding: 5px; border-radius: 12px; display: flex; gap: 5px; }
        .tab-btn { padding: 10px 35px; cursor: pointer; border: none; border-radius: 8px; font-weight: 900; background: transparent; color: #96989d; }
        .tab-btn.active { background: var(--primary-color); color: white; }
        
        .controls { display: flex; gap: 8px; }
        .btn-ctrl { background: #4f545c; color: white; border: none; padding: 8px 15px; border-radius: 8px; cursor: pointer; font-weight: bold; }

        .container { background: var(--container-bg); padding: 40px; border-radius: 25px; box-shadow: 0 20px 50px rgba(0,0,0,0.2); width: 100%; max-width: 900px; margin: 0 auto; }
        
        .header-wrapper { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; border-bottom: 1px solid rgba(128,128,128,0.2); padding-bottom: 20px; }
        .logo-img { max-width: 140px; }

        .mechanism-box { 
            background: var(--mech-bg); border: 3px solid var(--mech-border); padding: 20px; border-radius: 12px; margin-bottom: 25px; text-align: center; color: var(--mech-text); 
        }

        .page-content { display: none; }
        .page-active { display: block; }

        .dynamic-content-area { font-size: var(--dynamic-font); }
        .question-text { font-weight: 900 !important; color: var(--secondary-color); font-size: 1.05em; display: block; margin-bottom: 8px; }
        .question-block { background: rgba(128,128,128,0.05); border-right: 6px solid var(--secondary-color); padding: 20px; margin-bottom: 20px; border-radius: 0 15px 15px 0; }
        
        .answer-text { 
            background: var(--ans-bg); color: var(--ans-text); padding: 15px; border-radius: 10px; display: block; white-space: pre-line; margin-top: 10px; 
            border-left: 5px solid var(--primary-color); font-weight: 700;
        }
        
        .scenario-box { background: #3e3a2b; color: #e9d8a6; padding: 18px; border-radius: 12px; font-style: italic; margin-bottom: 15px; border: 1px solid #5e5335; }

        #timer-container { 
            position: fixed; top: 150px; left: 30px; width: 100px; padding: 12px; 
            background: #36393f; color: var(--timer-color); border-radius: 15px; text-align: center; 
            z-index: 9999; box-shadow: 0 10px 25px rgba(0,0,0,0.4); border: 2px solid var(--timer-color);
            cursor: move; user-select: none;
        }
        #timer-display { font-size: 2rem; display: block; font-weight: 900; margin: 5px 0; }
        .btn-timer { background: var(--primary-color); color: white; border: none; border-radius: 8px; width: 100%; padding: 5px; cursor: pointer; font-weight: bold; }

        .result-section { margin-top: 50px; padding: 30px; border-radius: 20px; border: 3px solid var(--primary-color); background: var(--container-bg); }
        .records-table { width: 100%; border-collapse: collapse; margin-top: 20px; background: rgba(0,0,0,0.2); }
        .records-table th, .records-table td { border: 1px solid rgba(128,128,128,0.2); padding: 12px; text-align: center; }
        .records-table th { background: var(--primary-color); color: white; }
        .btn-delete { background: #e74c3c; color: white; border: none; padding: 6px 12px; border-radius: 6px; cursor: pointer; font-weight: bold; }
        .btn-reset { background: #d35400; color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; font-weight: bold; margin-bottom: 10px; }
        .btn-main { background: var(--primary-color); color: white; border: none; padding: 18px; font-size: 1.2rem; border-radius: 15px; cursor: pointer; width: 100%; font-weight: 900; margin-top: 20px; }

        /* ุณุชุงูู ุนุฑุถ ุงููุชูุฌุฉ ุงููุจุงุดุฑุฉ */
        .live-score-box {
            background: rgba(88, 129, 87, 0.1);
            border: 2px dashed var(--primary-color);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            margin: 20px 0;
        }
        .live-score-box h3 { margin: 0 0 10px 0; color: var(--primary-color); }
        .score-val { font-size: 2rem; font-weight: 900; color: var(--text-color); }

        .footer-credits { text-align: center; margin-top: 40px; padding: 20px; border-top: 1px solid rgba(128,128,128,0.2); }

        @media print { .no-print { display: none !important; } }
    </style>
</head>
<body onload="loadSavedData()">

<div id="timer-container" class="no-print">
    <div style="font-size: 9px; opacity: 0.6; margin-bottom: 5px; color:white;">ุงุณุญุจ ููุชุญุฑูู</div>
    <span id="timer-display">05</span>
    <button class="btn-timer" onclick="startTimer()">ุงุจุฏุฃ</button>
</div>

<div class="top-nav no-print">
    <div class="tabs-wrapper">
        <button class="tab-btn active" onclick="showPage('A', this)">ูููุฐุฌ A</button>
        <button class="tab-btn" onclick="showPage('B', this)">ูููุฐุฌ B</button>
    </div>
    <div class="controls">
        <button class="btn-ctrl" onclick="changeFontSize(1)">A+</button>
        <button class="btn-ctrl" onclick="changeFontSize(-1)">A-</button>
        <button class="btn-ctrl" onclick="toggleMode()">โ๏ธ/๐</button>
    </div>
</div>

<div class="container">
    <div class="header-wrapper">
        <img src="https://www2.0zz0.com/2025/12/22/17/297618659.png" alt="Logo" class="logo-img">
        <div style="text-align: left; direction: ltr; font-family: 'Arial Black';">
            <h3 style="margin:0;">Ministry Of Health</h3>
            <p style="margin:0;">EMS Academy<br>Instructor HandBook</p>
        </div>
    </div>

    <div class="input-group no-print">
        <div style="display: flex; gap: 15px;">
            <div style="flex: 1;">
                <label>ููุฏ ุงููุชุฏุฑุจ:</label>
                <input type="text" id="traineeCode" class="input-field" placeholder="ุฃุฏุฎู ููุฏ ุงููุชุฏุฑุจ ููุง...">
            </div>
            <div style="flex: 1;">
                <label>ููุฏ ุงููุฏุฑุจ:</label>
                <input type="text" id="instructorCode" class="input-field" placeholder="ุฃุฏุฎู ููุฏ ุงููุฏุฑุจ ููุง...">
            </div>
        </div>
    </div>

    <div class="mechanism-box">
        <span style="font-weight: 900; font-size: 1.3rem; color: #ff5e5e; display: block; margin-bottom: 10px; text-decoration: underline;">ุขููุฉ ุงูุงุฎุชุจุงุฑ:</span>
        <span>โข 15 ุณุคุงู ููู ูุชุฏุฑุจ</span><br>
        <span>โข ุงุฎุชุจุงุฑ ุณููุงุฑูููุงุช</span><br>
        <span>โข ุทุฑููุฉ ุงูุชุฃูุฏ ุนูู ุญูุงุฉ ุงูุฑูุงุฆู</span><br>
        <span>โข ุทุฑููุฉ ุงูุนูุงุฌ</span><br>
        <span style="color: #ff5e5e;">ูู ุฎูุณ ุซูุงูู ูู ุญุงู ุชุฃุฎุฑุช ุนููุง ูุนุชุจุฑ ุงูุณุคุงู ููุบู ููุง ุชุญุณุจ ุฏุฑุฌุชู ูู ุงูุงุฎุชุจุงุฑ</span>
    </div>

    <div class="dynamic-content-area">
        <div id="pageA" class="page-content page-active">
            <div class="section-divider"><span>ุงููุณู ุงูุฃูู: ุงูุฃุณุฆูุฉ ุงููุธุฑูุฉ (ูููุฐุฌ A)</span></div>
            <div id="theory-questions-A"></div>
            <div class="question-block">
                <span class="question-text">ุณุคุงู ุฅุถุงูู: ุทุฑููุฉ ุชูุฑูุฑ ุงูุจูุงุบุงุช ุงูู ุงูุฑุชุจ ุงูุนููุง ูุซู M-0ุ</span>
                <span class="answer-text">(ูุง ูุญุณุจ ุฎุทุฃ)</span>
                ุงูุฏุฑุฌุฉ: <select id="bonusA" onchange="calculateLiveScore('A')"><option value="0">0</option><option value="1">1</option></select>
            </div>

            <div class="section-divider"><span>ุงููุณู ุงูุซุงูู: ุงูุณููุงุฑูููุงุช</span></div>
            <div class="question-block sc-A">
                <span class="question-text">ุงูุณููุงุฑูู ุงูุฃูู:</span>
                <div class="scenario-box">"ุณุฌูุช ุฏุฎููู ูุจุงุดุฑุช ูู ููุณ ุณุงูุชูุณ ูุงูุง ูู ูุทุงุน EMS ููุงูุงู ููู ุงูุง 3 ูุญุฏุงุช ุฑุญุช ุงูุง ููุฑุงูู ูู ูุญุงูุฉ 997 ูุงู ุดุฎุต ูุณูุท ุจุดูู ูุงูู ูุนุงูุฌุชู ูู ุงููููุน ูุฑุฌุนูุง ูููุณุชุดูู"</div>
                <span class="answer-text">* ุนุฏู ุงูุชูุงุตู ูุน ุงูุฏุณุจุงุชุด (1ุฏ) <br> * ูุนุงูุฌุฉ ูุณูุท ูุงูู ุจุงูุฎุงุฑุฌ (1ุฏ) <br> * ุฎุฑูุฌ ูู ุงููุดูู ููู ูู ูุทุงุน EMS (1ุฏ)</span>
                ุงูุฏุฑุฌุฉ: <select class="sc-val-A" onchange="calculateLiveScore('A')"><option value="0">0</option><option value="1">1</option><option value="2">2</option><option value="3">3</option></select>
            </div>
            <div class="question-block sc-A">
                <span class="question-text">ุงูุณููุงุฑูู ุงูุซุงูู:</span>
                <div class="scenario-box">"ุงุซูุงุก ูุจุงุดุฑุฉ ุงููุณุนู ูุฏูุฑูุฉ ุญุฑู ุชูุฌู ูุญุงูุฉ ุฌูุงุฆูุฉ ูุนูุฏ ูุตููู ูููููุนุ ุงุชุถุญ ุงู ุงูุญุงูุฉ ูุงุฒุงูุช ูุงุฆูุฉ ูููุฌุฏ ุงุทูุงู ูุงุฑ ุจุงููููุนุ ุงูุชุธุฑ ุงููุณุนู ุจุงููููุน ูุญูู ุงูุชูุงุก ุงูุญุงูุฉ ูุนูุฏ ุงูุชูุงุฆูุง ุชูุฌู ููุนุณุงูุฑ ุงููุณูุทูู ุจุณุจุจ ุทูุงู ูุงุฑ ูุชู ุนูุงุฌูู ุจููุณ ุงููููุน."</div>
                <span class="answer-text">* ูุง ุจูุบ ุงูุฏูุณุจุงุชุด (1ุฏ) <br> * ุงูุชุธุฑ ุจุงููููุน ูุงูุญุงูุฉ ูุงุฒุงูุช ูุงุฆูุฉ (1ุฏ) <br> * ุนุงูุฌ ุงูุนุณุงูุฑ ุจููุณ ุงููููุน (1ุฏ)</span>
                ุงูุฏุฑุฌุฉ: <select class="sc-val-A" onchange="calculateLiveScore('A')"><option value="0">0</option><option value="1">1</option><option value="2">2</option><option value="3">3</option></select>
            </div>

            <div class="section-divider"><span>ุงููุณู ุงูุซุงูุซ: ุงูุฌุงูุจ ุงูุนููู</span></div>
            <div class="question-block pr-A">
                <span class="question-text">ุทุฑููุฉ ุงูุชุฃูุฏ ูู ุญูุงุฉ ุงูุฑูุงุฆู:</span>
                <span class="answer-text">* ุงูุชุนุฑูู ุจููุณู (1ุฏ) <br> * ุณุคุงู ุงูููุงุทู ุนู ูุถุนู ุงูุตุญู ูุทุฑููุฉ ุงูุชุนุงูู ูุน ุงููุฌุฑููู ูุนู + ุนูุงุฌ ูู ุญุงู ูุฌูุฏ ุฅุตุงุจุงุช ุฃูู ูู 3 (1ุฏ) <br> * ุชุญุฏูุซ ุงูุญุงูุฉ ููุณุคูู ุงูุญุงูุฉ ูุฏู ุงูุนุณุงูุฑ ู ุงูุฏุณุจุงุชุด (1ุฏ)</span>
                ุงูุฏุฑุฌุฉ: <select class="pr-val-A" onchange="calculateLiveScore('A')"><option value="0">0</option><option value="1">1</option><option value="2">2</option><option value="3">3</option></select>
            </div>
            <div class="question-block pr-A">
                <span class="question-text">ุทุฑููุฉ ุงูุนูุงุฌ ุจุดูู ูุงูู:</span>
                <span class="answer-text">* ุงุณุชุฎุฑุงุฌ ุงูุณุฑูุฑ (1ุฏ) <br> * ุงูุชุฃูุฏ ูู ุงูุงุตุงุจุงุช (1ุฏ) <br> * ุงูุนูุงุฌ (1ุฏ)</span>
                ุงูุฏุฑุฌุฉ: <select class="pr-val-A" onchange="calculateLiveScore('A')"><option value="0">0</option><option value="1">1</option><option value="2">2</option><option value="3">3</option></select>
            </div>

            <div class="live-score-box no-print">
                <h3>ูุฑุงุฌุนุฉ ุงููุชูุฌุฉ ุงูุญุงููุฉ (ูููุฐุฌ A)</h3>
                <div class="score-val" id="liveScoreA">ุงููุฌููุน: 0</div>
                <div id="liveStatusA" style="font-weight: bold; margin-top: 5px;"></div>
            </div>

            <div class="section-divider no-print"><span>ููุงุญุธุงุช ุงููุฏุฑุจ</span></div>
            <div class="input-group no-print">
                <textarea id="notesA" class="input-field" placeholder="ุงูุชุจ ููุงุญุธุงุชู ุนูู ุงููุชุฏุฑุจ ููุง..." rows="3"></textarea>
            </div>

            <button class="btn-main no-print" onclick="addResult('A')">ุฅุนุชูุงุฏ ุงููุชูุฌุฉ ูู ุงูุณุฌู</button>
        </div>

        <div id="pageB" class="page-content">
            <div class="section-divider"><span>ุงููุณู ุงูุฃูู: ุงูุฃุณุฆูุฉ ุงููุธุฑูุฉ (ูููุฐุฌ B)</span></div>
            <div id="theory-questions-B"></div>

            <div class="section-divider"><span>ุงููุณู ุงูุซุงูู: ุงูุณููุงุฑูููุงุช</span></div>
            <div class="question-block sc-B">
                <span class="question-text">ุงูุณููุงุฑูู ุงูุฃูู:</span>
                <div class="scenario-box">"ูุฌูู ุงูุฏุณุจุงุชุด ููุญุฏู ุญุฑู ูู ููุณ ููุงุนูุฏู ุญุงูุงุช ู ุทูุจ ููู ููุงุทู ุชูุตูู ูููุทุนู ูุตูุชู ููุฒูุช ูุนุงู ูุงุฎุฐุช ูุฌุจุงุช ููููุช ุงูููุธู ููุฒู ุนูุฏู ุงุฑุจุน ุงุตุงุจุงุช ุนุงูุฌุชู ูุฑุฌุนุช ูููุณุชุดูู"</div>
                <span class="answer-text">* ููููุน ุชูุตูู ููุงุทููู (1ุฏ) <br> * ููููุน ุงูุชูุฌู ูููุทุนู ุจุฏูู ุงุฐู ุงูุฏุณุจุงุชุด (1ุฏ) <br> * ููููุน ูุนุงูุฌุฉ ุงูุซุฑ ูู 3 ุงุตุงุจุงุช (1ุฏ)</span>
                ุงูุฏุฑุฌุฉ: <select class="sc-val-B" onchange="calculateLiveScore('B')"><option value="0">0</option><option value="1">1</option><option value="2">2</option><option value="3">3</option></select>
            </div>
            <div class="question-block sc-B">
                <span class="question-text">ุงูุณููุงุฑูู ุงูุซุงูู:</span>
                <div class="scenario-box">"ุงุซูุงุก ูุจุงุดุฑุฉ ุงููุณุนู ูุฏูุฑูุฉ ุญุฑู ุชูุฌู ูุญุงูุฉ ุฌูุงุฆูุฉ ูุนูุฏ ูุตููู ูููููุนุ ุงุชุถุญ ุงู ุงูุญุงูุฉ ูุงุฒุงูุช ูุงุฆูุฉ ูููุฌุฏ ุงุทูุงู ูุงุฑ ุจุงููููุนุ ุงูุชุธุฑ ุงููุณุนู ุจุงููููุน ูุญูู ุงูุชูุงุก ุงูุญุงูุฉ ูุนูุฏ ุงูุชูุงุฆูุง ุชูุฌู ููุนุณุงูุฑ ุงููุณูุทูู ุจุณุจุจ ุทูุงู ูุงุฑ ูุชู ุนูุงุฌูู ุจููุณ ุงููููุน."</div>
                <span class="answer-text">* ูุง ุงุฎุฐ ุงุฐู ูู ุงูุฏุณุจุงุชุด (1ุฏ) <br> * ุงูุชุธุฑ ุจุงููููุน ูุงูุญุงูุฉ ูุงุฒุงูุช ูุงุฆูุฉ (1ุฏ) <br> * ุนุงูุฌ ุงูุนุณุงูุฑ ุจููุณ ุงููููุน (1ุฏ)</span>
                ุงูุฏุฑุฌุฉ: <select class="sc-val-B" onchange="calculateLiveScore('B')"><option value="0">0</option><option value="1">1</option><option value="2">2</option><option value="3">3</option></select>
            </div>

            <div class="section-divider"><span>ุงููุณู ุงูุซุงูุซ: ุงูุฌุงูุจ ุงูุนููู</span></div>
            <div class="question-block pr-B">
                <span class="question-text">ุทุฑููุฉ ุงูุชุฃูุฏ ูู ุญูุงุฉ ุงูุฑูุงุฆู:</span>
                <span class="answer-text">* ุงูุชุนุฑูู ุจููุณู (1ุฏ) <br> * ุณุคุงู ุงูููุงุทู ุนู ูุถุนู ุงูุตุญู ูุทุฑููุฉ ุงูุชุนุงูู ูุน ุงููุฌุฑููู ูุนู + ุนูุงุฌ ูู ุญุงู ูุฌูุฏ ุฅุตุงุจุงุช ุฃูู ูู 3 (1ุฏ) <br> * ุชุญุฏูุซ ุงูุญุงูุฉ ููุณุคูู ุงูุญุงูุฉ ูุฏู ุงูุนุณุงูุฑ ู ุงูุฏุณุจุงุชุด (1ุฏ)</span>
                ุงูุฏุฑุฌุฉ: <select class="pr-val-B" onchange="calculateLiveScore('B')"><option value="0">0</option><option value="1">1</option><option value="2">2</option><option value="3">3</option></select>
            </div>
            <div class="question-block pr-B">
                <span class="question-text">ุทุฑููุฉ ุงูุนูุงุฌ ุจุดูู ูุงูู:</span>
                <span class="answer-text">* ุงุณุชุฎุฑุงุฌ ุงูุณุฑูุฑ (1ุฏ) <br> * ุงูุชุฃูุฏ ูู ุงูุงุตุงุจุงุช (1ุฏ) <br> * ุงูุนูุงุฌ (1ุฏ)</span>
                ุงูุฏุฑุฌุฉ: <select class="pr-val-B" onchange="calculateLiveScore('B')"><option value="0">0</option><option value="1">1</option><option value="2">2</option><option value="3">3</option></select>
            </div>

            <div class="live-score-box no-print">
                <h3>ูุฑุงุฌุนุฉ ุงููุชูุฌุฉ ุงูุญุงููุฉ (ูููุฐุฌ B)</h3>
                <div class="score-val" id="liveScoreB">ุงููุฌููุน: 0</div>
                <div id="liveStatusB" style="font-weight: bold; margin-top: 5px;"></div>
            </div>

            <div class="section-divider no-print"><span>ููุงุญุธุงุช ุงููุฏุฑุจ</span></div>
            <div class="input-group no-print">
                <textarea id="notesB" class="input-field" placeholder="ุงูุชุจ ููุงุญุธุงุชู ุนูู ุงููุชุฏุฑุจ ููุง..." rows="3"></textarea>
            </div>

            <button class="btn-main no-print" onclick="addResult('B')">ุฅุนุชูุงุฏ ุงููุชูุฌุฉ ูู ุงูุณุฌู</button>
        </div>
    </div>

    <div id="resultArea" class="result-section">
        <h2 style="margin-top:0; color: var(--primary-color); text-align: center;">ุณุฌู ุงููุชุงุฆุฌ </h2>
        <div style="text-align: left;" class="no-print">
            <button class="btn-reset" onclick="resetAllRecords()">ุชูุฑูุบ ุงูุณุฌู ุจุงููุงูู ๐๏ธ</button>
        </div>
        <table class="records-table">
            <thead>
                <tr>
                    <th>ููุฏ ุงููุชุฏุฑุจ</th>
                    <th>ููุฏ ุงููุฏุฑุจ</th>
                    <th>ูุธุฑู</th>
                    <th>ุนููู</th>
                    <th>ุงููุฌููุน</th>
                    <th>ุงููุชูุฌุฉ</th>
                    <th>ุงูููุงุญุธุงุช</th>
                    <th class="no-print">ุญุฐู</th>
                </tr>
            </thead>
            <tbody id="recordsBody">
            </tbody>
        </table>
        <button class="btn-ctrl no-print" style="margin-top:20px; width:100%;" onclick="window.print()">ุทุจุงุนุฉ ุงูุณุฌู ุงูุญุงูู</button>
    </div>

    <div class="footer-credits">
        ุฌููุน ุงูุญููู ูุญููุธุฉ ูู <strong>ุฃูุงุฏูููุฉ ุงูุตุญุฉ</strong> ูู ุณูุฑูุฑ MT <br>
        ุจุฑูุฌุฉ <strong>ุนูู ุงูุญุงุฌู</strong> | Discord: <span>ali_go</span>
    </div>
</div>

<script>
    // ุงูุฃุณุฆูุฉ
    const qDataA = [
        {q: "1- ุงุฐูุฑ ูู ุงููุงุน ุงูุญุงูุงุช ุงูุชู ูุง ูุชู ุนูุงุฌูุง ุจุงูุฎุงุฑุฌุ", a: "โข ุงุตุงุจุฉ ุจุงูุฑุฃุณ โข ุงุฑุจุน ุงุตุงุจุงุช ุงู ุงูุซุฑ โข ูุณูุท ุจุดูู ูุงูู โข ูุณูุท ุจุทูู ูุงุฑ"},
        {q: "2- ุงุฐูุฑ ุงูุญุงูุงุช ุงูุชู ูุชู ูููุง ุงุณุชุฎุฑุงุฌ ุณูุงุฑุฉ ุงููุงูุ", a: "โข ูู ุญุงู ุนุฏุฏ ุงููุณูุทูู ูุจูุฑ (ูู 5 ุงูู 7 ) ูุฏุงุฎู ููุณ"},
        {q: "3- ูุง ุงููุฑู ุจูู ูุทุงุน paramedic ููุทุงุน emsุ", a: "ูุทุงุน EMS โข ุงูุชูุงุฌุฏ ุจุงููุณุชุดูู ูุงุณุชูุจุงู ุงูุญุงูุงุช | โข ูุทุงุน Paramadic ุงูุชูุฒุน ุจุงูููุฏุงู ูููู ุงููุณุชูุทูู"},
        {q: "4- ูุงูู ุงูุญุงูุงุช ุงูุชู ูุชู ูููุง ุชูููู ุงููุณูุทููุ", a: "โข ูุชูุฌุฑ ุฃู ูุญุชุฑู ุฃู ูููุชุญุฑ"},
        {q: "5- ุงุฐูุฑ ูุงุฆุฏุฉ ุงู Tourniqueet ุฃู ุงูุฑุจุทุฉ ุ", a: "โข ุฑุจุท ุงูุนุถู ุงููุตุงุจ ูุฅููุงู ุงููุฒูู"},
        {q: "6- ุงุฐูุฑ ูู ุซูุงุซ ุงุฏูุงุช ุงุณุนุงููู ูุน ุฐูุฑ ุทุฑููุฉ ุงุณุชุฎุฏุงููุงุ", a: "(ุชุนุชูุฏ ุนูู ุงููุชุฏุฑุจ)"},
        {q: "7- ูุง ุงุณุชุฎุฏุงูุงุช ุบุฑูุฉ ุงูู ICUุ ุงุฐูุฑ ุงููุตุฑุญ ููู ุจุฅููุงู ุงูุจุงุจุ", a: "โข ูุนุงูุฌุฉ ุงููุฌุฑููู \n โข ูุฒูุฑ ุงูุฏุงุฎููุฉ ููุงุฆุจู+ุฏุงูุฑูุชุฑ ุฌูุฑุงู + ุฌูููุฑุงูุงุช+ุฑุฆูุณ ุงูุดุฑุทู ููุงุฆุจุฉ ุฑุฆูุณ ุงููุงูู ูููุช."},
        {q: "8- ูู ูุญู ูู ุงุณุชุฎุฑุงุฌ ุงูุงูุฑุดุจุ", a: "โข ุญุงูู ุงูููู"},
        {q: "9- ุงุฐูุฑ ุทุฑููู ุงูุชุจููุบ ุงูุตุญูุญู ูุทูุจ ูุญุฏู ูููุ ", a: "ูููุช... ุชู ุฏูุณุจุงุชุด.. ุงุญุชุงุฌ ุชู ุฒูุฑู ูู ูููุนู"},
        {q: "10- ูุงูู ูุฑูุจุงุช ุฑุชุจู ุงู EMRุ", a: "โข ุชุงูู โข ูุงู"},
        {q: "11- ุงุฐูุฑ ุงูุชุตุฑู ุงูุตุญูุญ ูู ุญุงู ุฌุงู ููุงุทู ูุตุงุจ ูุบูุฑ ูุญุชุฑูุ + ุฌุงู ููุงุทู ูุจู ูุชุนุงูุฌ ูุฑุงูุถ ููุฒุน ุงููุงุณู ุ + ุฌุงู ุนุณูุฑู ููุงูุดู ุงู ูุฏู ูู ุงุณุงุกู + ุฌุงุก ููุงุทู ููุฑุจ ูุฌุฑู ุงูุงูู ูุงูุนุณุงูุฑ ูู ููุชุจูููุ + ูู ูุญู ูู ูุทุญ ุงููุฌุฑู ููุณุงุนุฏุฉ ุงูุนุณุงูุฑ ูู ุงููุจุถ ุนูููุ", a: "(ุชุนุชูุฏ ุนูู ุชูุฏูุฑ ุงููุฏุฑุจ)"},
        {q: "12- ูุงุฐุง ูุนูู ููุฏ ุชู ููุฑุชููุ", a: "โข ุณุฑูุฉ ูุญู ูุฌููุฑุงุช"},
        {q: "13- ูุงุฐุง ูุนูู ููุฏ ุณูุณุ ", a: "โข ุฌุงุฑู ุงูุชุญูู ูู ุงูููุงู"},
        {q: "14- ูุงูู ููุฏ ูุญุฏุฉ ุงูุฏุนูุ", a: "โข ุชู ุชูุชูู ุซุฑู"},
        {q: "15- ูุชู ูุญู ูู ุงุณุชุฎุฑุงุฌ ูุฑูุจุฉ ุงูุฏุฑุงููู ูุงูุฌูุจุ", a: "ุฏุฑุงููู (ุงุฏูุงูุณ) | ุฌูุจ (ูุงุณุชุฑ) ุงู ูู ูุณุคู ุงููุชุฑุฉ"}
    ];

    const qDataB = [
        {q: "1- ุงุฐูุฑ ูู ุงููุงุน ุงูุญุงูุงุช ุงูุชู ูุง ูุชู ุนูุงุฌูุง ุจุงูุฎุงุฑุฌุ", a: "โข ุงุตุงุจุฉ ุจุงูุฑุฃุณ - ุงุฑุจุน ุงุตุงุจุงุช ุงู ุงูุซุฑ - ูุณูุท ุจุดูู ูุงูู - ูุณูุท ุจุทูู ูุงุฑ"},
        {q: "2- ูุงูู ูุทุงุน ุงููุณุคูู ุนู ููู ุงููุณูุทููุ", a: "โข paramedic"},
        {q: "3- ูุงูู ุงูุญุงูุงุช ุงูุชู ูุชู ูููุง ุชูููู ุงููุณูุท ุ", a: "โข ุงููุชูุฌุฑ โข ุงูููุชุญุฑ โข ุงููุญุชุฑู"},
        {q: "4- ูุงูู ุงุณุชุฎุฏุงูุงุช ุบุฑูุฉ ุงูู icu ุ ููู ุงููุตุฑุญ ููู ุงููุงููุงุ", a: "โข ูุนุงูุฌุฉ ุงููุฌุฑููู\nโข ูุฒูุฑ ุงูุฏุงุฎููุฉ ููุงุฆุจู+ุฏุงูุฑูุชุฑ ุฌูุฑุงู + ุฌูููุฑุงูุงุช+ุฑุฆูุณ ุงูุดุฑุทู ููุงุฆุจุฉ ุฑุฆูุณ ุงููุงูู ูููุช."},
        {q: "5- ูุงูู ููุฏ blane county ูู ุจุฑูุชููููุงุช ุงูุฑุงุฏูู ุ", a: "โข 12-10"},
        {q: "6- ูุงูู ููุฏ red ูู ุจุฑูุชููููุงุช ุงูุฑุงุฏูู ุ", a: "ุฌููุน ุงููุญุฏุงุช ุงูุดุงุบุฑู ุชุชูุฌู ุงูู ุบุฑูุฉ ุงูุทูุงุฑุฆ"},
        {q: "7- ูุงูู ููุฏ ุงูุบุงุก ุงูุจูุงุบ ูู ุจุฑูุชููููุงุช ุงูุฑุงุฏูู ุ", a: "โข 0-4"},
        {q: "8- ุงุฐูุฑ ุงูุญุงูุงุช ุงูุชู ูุชู ูููุง ุงุณุชุฎุฑุงุฌ ุณูุงุฑุฉ ุงููุงูุ", a: "ูู ุญุงู ุนุฏุฏ ุงููุณูุทูู ูุจูุฑ (ูู 5 ุงูู 7) ูุฏุงุฎู ููุณ"},
        {q: "9- ูุงูู ูุฑูุจุงุช ุงููุณููุญู ูุฑุชุจู ุงู EMRุ", a: "ุชุงูู - ูุงู"},
        {q: "10- ุงุฐูุฑ ุงูุชุตุฑู ุงูุตุญูุญ ูู ุญุงู ุฌุงู ููุงุทู ูุตุงุจ ูุบูุฑ ูุญุชุฑูุ + ุฌุงู ููุงุทู ูุจู ูุชุนุงูุฌ ูุฑุงูุถ ููุฒุน ุงููุงุณู ุ + ุฌุงู ุนุณูุฑู ููุงูุดู ุงู ูุฏู ูู ุงุณุงุกู + ุฌุงุก ููุงุทู ููุฑุจ ูุฌุฑู ุงูุงูู ูุงูุนุณุงูุฑ ูู ููุชุจูููุ + ูู ูุญู ูู ูุทุญ ุงููุฌุฑู ููุณุงุนุฏุฉ ุงูุนุณุงูุฑ ูู ุงููุจุถ ุนูููุ", a: "(ุชุนุชูุฏ ุนูู ุชูุฏูุฑ ุงููุฏุฑุจ)"},
        {q: "11- ูุงูู ุดุฑูุท ุตุฑู ุงูุนูุงุฒ ุงู ุงููุฑุณู ุงููุชุญุฑู ุ ูุงููุฏุฉุ ", a: "ุนูุงุฒ: ูุฏู (ุดูุฑ) | ูุฑุณู: ูุฏููู (ุดูุฑูู)"},
        {q: "12- ูุชู ูุญู ูู ููู ุงููุฌุฑููู ููุนุงูุฌุชูู ุจุฏูู ูุญุฏุงุช ุนุณูุฑูุฉ ุ", a: "ูุง ูุญู ูู ุงุจุฏ ุจุฏูู ูุญุฏุงุช ุนุณูุฑูู"},
        {q: "13- ูุชู ูุญู ูู ููุงุทุนุฉ ุจูุงุบุงุช ุงูุฑุงุฏููุ", a: "ููููุน ููุงุทุนุฉ ุงูุจูุงุบุงุช"},
        {q: "14- ูู ุญุงู ุงุญุชุฌุช ูุญุฏุงุช ุฏุนู ุงุฐูุฑ ูู ุทุฑููุฉ ุงูุจูุงุบ ุงูุตุญูุญุฉุ", a: "ุชู ุฏุณุจุงุชุด.. ุงุญุชุงุฌ ุชู ุชููู ุซุฑู.. ุชู ููุฑ ุงุฑูุน pick up"},
        {q: "15- ูู ูุญู ูู ุงุณุชุฎุฑุงุฌ ุงูุงูุฑุดุจุ", a: "ุญุงูู ุงูููู"}
    ];

    function gen(cId, list, prefix) {
        const c = document.getElementById(cId);
        list.forEach((item, i) => {
            c.innerHTML += `<div class="question-block th-${prefix}"><span class="question-text">${item.q}</span><span class="answer-text">${item.a}</span><div class="no-print" style="margin-top:10px;"><label style="margin-left:15px;"><input type="radio" name="${prefix}_q${i}" value="1" onchange="calculateLiveScore('${prefix}')"> ุตุญ โ</label> <label><input type="radio" name="${prefix}_q${i}" value="0" onchange="calculateLiveScore('${prefix}')"> ุฎุทุฃ โ</label></div></div>`;
        });
    }
    gen('theory-questions-A', qDataA, 'A');
    gen('theory-questions-B', qDataB, 'B');

    let allRecords = [];

    // ูุธููุฉ ุญุณุงุจ ุงููุชูุฌุฉ ููุฑุงู ูุนุฑุถูุง ูููุฏุฑุจ
    function calculateLiveScore(type) {
        let th = 0, sc = 0, pr = 0, b = 0;
        document.querySelectorAll(`.th-${type} input:checked`).forEach(i => th += parseInt(i.value));
        document.querySelectorAll(`.sc-val-${type}`).forEach(s => sc += parseInt(s.value));
        document.querySelectorAll(`.pr-val-${type}`).forEach(p => pr += parseInt(p.value));
        if(type === 'A') b = parseInt(document.getElementById('bonusA').value);

        const total = th + sc + pr + b;
        const status = (total >= 20) ? "ูุงุฌุญ โ" : (total >= 15 ? "ููุธุฑ ููู โ๏ธ" : "ุฑุงุณุจ โ");
        
        document.getElementById(`liveScore${type}`).innerText = `ุงููุฌููุน: ${total}`;
        const statusEl = document.getElementById(`liveStatus${type}`);
        statusEl.innerText = status;
        
        if(total >= 20) statusEl.style.color = "#588157";
        else if(total >= 15) statusEl.style.color = "#d35400";
        else statusEl.style.color = "#e74c3c";
    }

    function loadSavedData() {
        const saved = localStorage.getItem('academyResults');
        if(saved) {
            allRecords = JSON.parse(saved);
            updateTable();
        }
        makeDraggable(document.getElementById("timer-container"));
    }

    function addResult(type) {
        const tCode = document.getElementById('traineeCode').value.trim();
        const iCode = document.getElementById('instructorCode').value.trim();
        const notes = document.getElementById('notes' + type).value.trim();

        if(!tCode || !iCode) {
            alert("โ๏ธ ุฎุทุฃ: ูุฑุฌู ุฅููุงุก ููุฏ ุงููุฏุฑุจ ูููุฏ ุงููุชุฏุฑุจ ูุจู ุงูุงุนุชูุงุฏ!");
            return;
        }

        let th = 0, sc = 0, pr = 0, b = 0;
        document.querySelectorAll(`.th-${type} input:checked`).forEach(i => th += parseInt(i.value));
        document.querySelectorAll(`.sc-val-${type}`).forEach(s => sc += parseInt(s.value));
        document.querySelectorAll(`.pr-val-${type}`).forEach(p => pr += parseInt(p.value));
        if(type === 'A') b = parseInt(document.getElementById('bonusA').value);

        const theoryTotal = th + sc + b;
        const totalFinal = theoryTotal + pr;
        const status = (totalFinal >= 20) ? "ูุงุฌุญ โ" : (totalFinal >= 15 ? "ููุธุฑ ููู โ๏ธ" : "ุฑุงุณุจ โ");

        const newRecord = { id: Date.now(), tCode, iCode, theory: theoryTotal, practical: pr, total: totalFinal, status, notes: notes || "-" };
        allRecords.push(newRecord);
        
        localStorage.setItem('academyResults', JSON.stringify(allRecords));
        updateTable();
        
        // ุฅุนุงุฏุฉ ุชุนููู ุงูุญููู
        document.getElementById('traineeCode').value = "";
        document.getElementById('notes' + type).value = "";
        document.querySelectorAll('input[type="radio"]').forEach(r => r.checked = false);
        document.querySelectorAll('select').forEach(s => s.selectedIndex = 0);
        document.getElementById(`liveScore${type}`).innerText = "ุงููุฌููุน: 0";
        document.getElementById(`liveStatus${type}`).innerText = "";
        
        alert(`ุชู ุงุนุชูุงุฏ ูุชูุฌุฉ ุงููุชุฏุฑุจ ${tCode} ูุญูุธูุง ุจูุฌุงุญ.`);
    }

    function updateTable() {
        const body = document.getElementById('recordsBody');
        body.innerHTML = "";
        allRecords.forEach(rec => {
            const row = body.insertRow();
            row.innerHTML = `
                <td>${rec.tCode}</td>
                <td>${rec.iCode || "ุบูุฑ ูุณุฌู"}</td>
                <td>${rec.theory}</td>
                <td>${rec.practical}</td>
                <td style="font-weight:900;">${rec.total}</td>
                <td>${rec.status}</td>
                <td style="font-size: 0.9em; max-width: 150px; overflow-wrap: break-word;">${rec.notes}</td>
                <td class="no-print"><button class="btn-delete" onclick="deleteRecord(${rec.id})">ุญุฐู</button></td>
            `;
        });
    }

    function deleteRecord(id) {
        if(confirm("ูู ุฃูุช ูุชุฃูุฏ ูู ุญุฐู ูุฐู ุงููุชูุฌุฉ ููุงุฆูุงูุ")) {
            allRecords = allRecords.filter(r => r.id !== id);
            localStorage.setItem('academyResults', JSON.stringify(allRecords));
            updateTable();
        }
    }

    function resetAllRecords() {
        if(confirm("โ๏ธ ุชุญุฐูุฑ: ุณูุชู ูุณุญ ุฌููุน ูุชุงุฆุฌ ุงูุฌุฏูู ุจุงููุงูู. ูู ุฃูุช ูุชุฃูุฏุ")) {
            allRecords = [];
            localStorage.removeItem('academyResults');
            updateTable();
        }
    }

    function showPage(pId, btn) {
        document.querySelectorAll('.page-content').forEach(p => p.style.display = 'none');
        document.getElementById('page' + pId).style.display = 'block';
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
    }

    let timerInt;
    function startTimer() {
        clearInterval(timerInt);
        let time = 5;
        const display = document.getElementById('timer-display');
        const update = () => {
            display.innerText = (time < 10 ? "0" : "") + time;
            if(time <= 0) { 
                clearInterval(timerInt); 
                display.innerText = "05"; // ูุนูุฏ ููุฑูู ุงูุฃุตูู ุนูุฏ ุงูุงูุชูุงุก
                return; 
            }
            time--;
        };
        update(); 
        timerInt = setInterval(update, 1000);
    }

    function toggleMode() { document.body.classList.toggle('light-mode'); }
    function changeFontSize(dir) {
        let current = parseInt(getComputedStyle(document.documentElement).getPropertyValue('--dynamic-font'));
        document.documentElement.style.setProperty('--dynamic-font', (current + dir) + 'px');
    }

    function makeDraggable(elmnt) {
        var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
        elmnt.onmousedown = dragMouseDown;
        function dragMouseDown(e) {
            e = e || window.event;
            if (e.target.tagName === 'BUTTON') return;
            e.preventDefault();
            pos3 = e.clientX;
            pos4 = e.clientY;
            document.onmouseup = closeDragElement;
            document.onmousemove = elementDrag;
        }
        function elementDrag(e) {
            e = e || window.event;
            e.preventDefault();
            pos1 = pos3 - e.clientX;
            pos2 = pos4 - e.clientY;
            pos3 = e.clientX;
            pos4 = e.clientY;
            elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
            elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
        }
        function closeDragElement() {
            document.onmouseup = null;
            document.onmousemove = null;
        }
    }
</script>
</body>
</html>
